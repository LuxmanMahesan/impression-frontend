<div class="admin-layout">

  <!-- Topbar admin -->
  <div class="admin-topbar">
    <div>
      <h2>Tableau de bord Admin</h2>
      <p class="code-jour">Code du jour : <strong>{{ codeDuJour || 'â€¦' }}</strong></p>
    </div>
    <button class="btn-danger" (click)="deconnexion()">ğŸšª DÃ©connexion</button>
  </div>

  <hr />

  <!-- Recherche dÃ©pÃ´t -->
  <div class="card">
    <h3>Rechercher un dÃ©pÃ´t</h3>

    <div class="field-row">
      <input [(ngModel)]="idDepot" placeholder="UUID du dÃ©pÃ´tâ€¦" />
      <button (click)="chargerDepot()">ğŸ” Charger</button>
    </div>

    <p class="message" *ngIf="message">{{ message }}</p>
  </div>

  <!-- RÃ©sultat -->
  <div class="card depot-result" *ngIf="depotCharge">
    <div class="depot-meta">
      <div>
        <span class="meta-label">ID</span>
        <code>{{ depotCharge.idDepot }}</code>
      </div>
      <div>
        <span class="meta-label">Statut</span>
        <span class="badge" [class.badge-valide]="depotCharge.statut === 'VALIDE'">
          {{ depotCharge.statut }}
        </span>
      </div>
    </div>

    <hr />

    <h3>Fichiers ({{ depotCharge.fichiers.length }})</h3>

    <p class="vide" *ngIf="!depotCharge.fichiers.length">Aucun fichier dans ce dÃ©pÃ´t.</p>

    <ul class="fichier-list" *ngIf="depotCharge.fichiers.length">
      <li *ngFor="let f of depotCharge.fichiers">
        <div class="fichier-info">
          <span class="fichier-nom">{{ f.nom }}</span>
          <span class="fichier-meta">{{ f.typeMime }} Â· {{ (f.taille / 1024).toFixed(0) }} Ko</span>
          <span class="fichier-id">{{ f.idFichier }}</span>
        </div>
        <button (click)="telechargerFichier(f.idFichier, f.nom)">â¬‡ï¸ TÃ©lÃ©charger</button>
      </li>
    </ul>
  </div>

</div>
