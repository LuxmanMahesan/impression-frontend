<div class="card">

  <div class="page-header">
    <button class="btn-secondary" (click)="retour()">‚Üê Retour</button>
    <div>
      <h2>Uploader des fichiers</h2>
      <p class="depot-id">D√©p√¥t : <code>{{ idDepot }}</code></p>
    </div>
  </div>

  <hr />

  <div class="etape">
    <label class="file-label" for="file-input">
      <span class="file-icon">üìÇ</span>
      <span>S√©lectionner des fichiers‚Ä¶</span>
      <input id="file-input" type="file" multiple (change)="surChoixFichiers($event)" />
    </label>

    @if (fichiers.length) {
      <ul class="file-list">
        @for (f of fichiers; track f.name) {
          <li>
            <span class="file-name">{{ f.name }}</span>
            <span class="file-size">{{ (f.size / 1024).toFixed(0) }} Ko</span>
          </li>
        }
      </ul>
    }
  </div>

  <hr />

  <div class="boutons">
    <button (click)="uploader()" [disabled]="!fichiers.length || enCours">
      {{ enCours ? '‚è≥ Upload en cours‚Ä¶' : '‚¨ÜÔ∏è Uploader' }}
    </button>
    <button class="btn-valider" (click)="valider()" [disabled]="!idDepot || enCours">
      ‚úÖ Valider le d√©p√¥t
    </button>
  </div>

  @if (message) {
    <p class="message">{{ message }}</p>
  }

</div>
